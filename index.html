
<!DOCTYPE html>
<html lang="en" dir="ltr">
   <head>
      <title>NinoPlayer 1.0</title>
      <meta name="author" content="CodySeller" />
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <link rel="stylesheet" href="https://cdn.plyr.io/3.7.2/plyr.css" />
      <link rel="stylesheet" href="player.css">
   </head>
   <style>
    body {margin: 0;padding: 0}
    .plyr--video {width: 100%;height: 100%;position: absolute;}
   </style>
   <body>
            <div id="server-list">
         <div class="menu-btn"  onclick="toggle_visibility()"></div>
      </div>
      <video controls playsinline id="player">
        <source id="hlsplayer" type="application/x-mpegURL">
    </video>
      </video>
      <script>
        function getGET(){
            var loc = document.location.href;
            if(loc.indexOf('?')>0){
                var getString = loc.split('?')[1];
                var GET = getString.split('&');
                var get = {};
                for(var i = 0, l = GET.length; i < l; i++){
                    var tmp = GET[i].split('=');
                    get[tmp[0]] = unescape(decodeURI(tmp[1]));
                }
                return get;
            }}
            var valores=getGET();
            if(document.location.href.indexOf('?')>0){
            var vid = valores['vid'];
            }
            document.getElementById('hlsplayer').src = 'https://raw.githubusercontent.com/pococdn/v/main/cdn/'+vid+'/index.m3u8';
      </script>
	        <script>
      const controls = [
             'play-large', // The large play button in the center
             'rewind', // Rewind by the seek time (default 10 seconds)
             'play', // Play/pause playback
             'fast-forward', // Fast forward by the seek time (default 10 seconds)
             'mute', // Toggle mute
             'volume', // Volume control
             'progress', // The progress bar and scrubber for playback and buffering
             'current-time', // The current time of playback
             'duration', // The full duration of the media
             'captions', // Toggle captions
             'settings', // Settings menu
             'pip', // Picture-in-picture (currently Safari only)
             'airplay', // Airplay (currently Safari only)
             'fullscreen' // Toggle fullscreen
         ];
      </script>
            <script>
             document.addEventListener("DOMContentLoaded", () => {
                 const video = document.querySelector("video");
                 const source = video.getElementsByTagName("source")[0].src;
                 
                 const defaultOptions = {controls};
         
                 if (Hls.isSupported()) {
                     const hls = new Hls();
                     hls.loadSource(source);
         
                     hls.on(Hls.Events.MANIFEST_PARSED, function (event, data) {
         
                     const availableQualities = hls.levels.map((l) => l.height)
         
                     defaultOptions.quality = {
                         default: availableQualities[0],
                         options: availableQualities,
                         forced: true,        
                         onChange: (e) => updateQuality(e),
                     }
         
                     const player = new Plyr('#player', defaultOptions);
         
                    
         
                     });
                     hls.attachMedia(video);
                     window.hls = hls;
                 } else {
                     const player = new Plyr(video, defaultOptions);
                    
         
                 }
             });
     
      </script>
                  <script>
         function updateQuality(newQuality) {
                 window.hls.levels.forEach((level, levelIndex) => {
                 if (level.height === newQuality) {
                     console.log("Found quality match with " + newQuality);
                     window.hls.currentLevel = levelIndex;
                 }
                 });
             }
         
         
      </script>
      <script src="https://cdn.jsdelivr.net/npm/hls.js"></script>
      <script src="https://cdn.plyr.io/3.7.2/plyr.js"></script>
      <script src="https://cdn.plyr.io/3.7.2/plyr.polyfilled.js"></script>
      <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
         </body>
</html>